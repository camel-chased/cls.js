var cls=function(){function l(a){var b=["Object","Function"];return"undefined"===typeof a?"undefined":null===a?"null":void 0===a?"undefined":Array.isArray(a)?"array":"object"===typeof a||"Object"===typeof a?g(a.constructor)?g(a.constructor.name)?-1===b.indexOf(a.constructor.name)?a.constructor.name:typeof a:typeof a:"object":typeof a}function F(a,b){var c={},d;if("object"!==l(a)&&"array"!==l(a))return a;"array"===l(a)&&(c=[]);y(a,function(a,h){d="array"===l(a)||"object"===l(a)?F(a):a;c[h]=d;"undefined"===
typeof b||"object"!==l(b)&&"function"!==l(b)||(b[h]=d)});return c}function S(a,b){for(var c,d=Object.keys(b),e=d.length,h=0,r={},p=F(b),f=F(a);h<e;h++)c=d[h],"object"===l(p[c])&&"object"===l(a[c])?(r=S(f[c],p[c]),f[c]=r):f[c]=p[c];return f}function y(a,b,c){if("[object Function]"!==ma.call(b))throw new TypeError("iterator must be a function");if(!g(a))throw Error("Object is undefined.");var d=a.length;if(d===+d)for(var e=0;e<d;e++)b.call(c,a[e],e,a);else for(e in a)na.call(a,e)&&b.call(c,a[e],e,a)}
function g(a){return"undefined"!==typeof a&&null!==a}function T(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function oa(a){var b=/^\s?\@param\s+\{([^\}]+)\}\s([a-z0-9\_\$]+)\s?(?:\=\s?([^\n]+))?\s?$/gim.exec(a.str),c={};a.arguments=[];if(g(b)){if(3>b.length)throw Error("Variable declaration is incorrect.");if(g(b[1])&&g(b[2])){c={types:b[1].split("|"),name:b[2]};if(g(b[3])){var d=c,e;a:{e=b[1].split("|");
var b=b[3],h="";e=e[0];e=e.toLowerCase();if(g(b)&&"string"===l(b)&&(h=b.toLowerCase(),"undefined"===h||"null"===h)){switch(h){case "undefined":b=void 0;break;case "null":b=null}e=b;break a}switch(e){case "string":if("'"===b.substr(0,1)||'"'===b.substr(0,1))b=b.replace(/^[\'\"]{1}([^\'\"]+)[\'\"]{1}$/gi,"$1");break;case "number":b=Number(b);break;case "object":b=JSON.parse(b);break;case "array":b=JSON.parse(b);break;case "bool":case "boolean":if("true"===b.toLowerCase())b=!0;else if("false"===b.toLowerCase())b=
!1;else throw Error("Boolean values must be either true or false.");}e=b}d["default"]=e}a.arguments.push(c)}else throw Error("Variable declaration is incorrect.");}}function U(a,b,c,d){var e=!0;if(2<a.length)return!1;-1!==a.indexOf("public")&&-1!==a.indexOf("private")&&(e=!1);-1!==a.indexOf("public")&&-1!==a.indexOf("protected")&&(e=!1);-1!==a.indexOf("private")&&-1!==a.indexOf("protected")&&(e=!1);-1!==a.indexOf("const")&&d&&(e=!1);-1===a.indexOf("final")||d||(e=!1);if(!e)throw Error("Property declarations in class ["+
b+"] property ["+c+"] are incorrect.");return e}function V(a,b,c,d,e){Array.isArray(d)&&(d=d.join(","));throw Error("Type mismatch in class [ "+a+" ] method [ "+b+" ] argument [ "+c+" ] should be "+d+", '"+e+"' given.");}function pa(a,b,c){var d={},e="",h;for(e in a)h=a[e],g(h.declarations)&&-1!==h.declarations.indexOf(b)&&(g(c)?h.classId===c&&(d[e]=h.value):d.push(e));return d}function W(a,b,c){var d=Object.keys(a),e=d.length,h=0,r="",p,f,A="",K="",r=!0;for(g(c)||(c="");h<e;h++)if(r=d[h],g(b[r]))if(p=
a[r],f=b[r],A=l(p),K=l(f),"object"===A||"function"===A){if(r=W(p,f,c+"."+r),!r)return!1}else if(A!==K)throw c=c+"."+r,c=c.substr(1),Error("Type mismatch. Object property [ "+c+" ] should be an "+K+".\n'"+A+"' given.");return!0}function qa(a,b,c,d){var e={},h=RegExp("^\\s?\\@method[ \\t]+([^\\s]+)[ \\t]*(?:([^\\n \\t]+))?(?:[ \\t]+([^\\n]+))?\\s?$","gim"),r=b.obj;b=b.className;var p=RegExp("^\\@returns?[ \\t]+\\{([^\\}]+)\\}","gim"),f=[],A=!1;g(c)||(A=!0);methodObj=h.exec(a);if(g(methodObj)){methodName=
methodObj[1];if(!A&&!D(d,methodName,c))throw Error("Cannot override '"+methodName+"' method.");if(!g(r[methodName]))throw Error("Property '"+methodName+"' is declared but not defined in [ "+b+" ] class.");e[methodName]={types:["function"]};e[methodName].classId="static:"+b;g(c)&&(e[methodName].classId=c);e[methodName].className=b;e[methodName].value=r[methodName];if(4===methodObj.length)if(g(methodObj[2])){f=[methodObj[2]];g(methodObj[3])&&f.push(methodObj[3]);if(A&&-1===f.indexOf("static"))throw Error("It should  be static property or classId is undefined.");
U(f,b,methodName,!0)&&(e[methodName].declarations=f)}else g(e[methodName].declarations)||(e[methodName].declarations=["public"]);e[methodName].str=a;oa(e[methodName]);a=p.exec(a);g(a)&&(e[methodName].returns=a[1].split("|"),y(e[methodName].returns,function(a,b){if("type"===a.toLowerCase()||"[type]"===a.toLowerCase())e[methodName].returns[b]="anytype"}));G(e[methodName],b,methodName,A)}else throw Error("I see death people.");g(d)&&(d[methodName]=e[methodName]);return[methodName,e[methodName]]}function X(a,
b,c,d,e){null===c&&(c="^\\s?\\@(method|property)[ \\t]+(?:\\{[a-z0-9_\\$\\|]+\\})?[ \\t]?([a-z0-9_\\$]+)?(?:[ \\t]+([a-z]+))?");var h=a.str,r=a.obj,p=RegExp("\\/\\*\\*?\\s*([^\\/]+)","gim");c=new RegExp(c,"gim");for(var f="",A="",f="",l=[],n="",q={};g(l);)if(l=p.exec(h),g(l)&&(n=String(l[1]).replace(/^[\t\*]+/gim,"").replace(/[\*]+/gim,"").replace(/^[ \t\n]{2,50}/gi,"").replace(/\n/gi,"").replace(/(\@)/gi,"\n$1").replace(/^\s+/gim,"").replace(/\s+$/gim,"").trim(),c.lastIndex=0,f=c.exec(n),g(f))){A=
f[1].trim();f=f[2].trim();q[f]={};if("method"===A)n=qa(n,a,d,e),q[n[0]]=n[1];else if("property"===A){var H=d,z=e,t=a.className,u=a.obj,v={},m=RegExp("^\\s?\\@property[ \\t]+\\{([^\\}]+)\\}[ \\t]+([^ \\t\\r\\n]+)[ \\t]*([^\\s\\*\\/]+)?(?:[ \\t]+([^\\n\\/]+))?$","gim"),k=void 0,x=void 0,w=!1;g(H)||(w=!0);k=m.exec(n);if(g(k)){x=k[2];if(!w&&!D(z,methodName,H))throw Error("Cannot override '"+methodName+"' property.");v[x]={};v[x].str=n;v[x].types=k[1].split("|");v[x].value=u[x];v[x].classId="static:"+
t;g(H)&&(v[x].classId=H);v[x].className=t;if(g(k[3])){declarations=[k[3]];g(k[4])&&declarations.push(k[4]);if(w&&-1===declarations.indexOf("static"))throw Error("It should  be static property or classId is undefined.");U(declarations,t,x,!1)&&(v[x].declarations=declarations)}else g(v[x].declarations)||(v[x].declarations=["public"])}else throw Error("I see death people.");G(v[x],t,x,w);g(z)&&(z[x]=v[x]);n=[x,v[x]];q[n[0]]=n[1]}if("undefined"===typeof r[f])throw Error("Class "+A+" [ "+f+" ] is declared but not defined in [ "+
b+" ] class.");}return q}function Y(a,b){var c={};y(a,function(a,e){c[e]=a.value;Object.defineProperty(b,e,{enumerable:!0,get:function(){return"function"===typeof a.value?a.value.bind(c):a.value}})})}function G(a,b,c,d){var e="public protected private static const final".split(" "),h="";if(g(a)){g(d)||(d=!1);if(!d&&!g(a.classId))throw Error("classId is not defined");if(g(a.declarations)){if("array"!==l(a.declarations))throw Error("Property declarations must be an array of string at [ "+b+" ] [ "+
c+" ]");y(a.declarations,function(a){if("string"!==l(a))throw Error("Property declaration must be a string at [ "+b+" ] [ "+c+" ]");if(-1===e.indexOf(a))throw Error("Unrecognized property declaration: '"+a+"' for property [ "+c+" ] in class [ "+b+" ]");})}else a.declarations=["public"];g(a.types)||("function"===l(a.value)?a.types=["function"]:a.types=["anytype"]);if(g(a.types))if(h=l(a.value),"clsClassInstance"===h)L(a.value,a.types,b,c);else if(-1===a.types.indexOf(h)&&-1===a.types.indexOf("anytype"))throw Error("Property value doesn't match declaration at [ "+
b+" ] [ "+c+" ]\nExpected: '"+a.types+"' given: '"+h+"'.");-1===a.types.indexOf("function")||g(a.returns)||(a.returns=["anytype"]);-1===a.types.indexOf("function")||g(a.arguments)||(a.arguments=[]);"function"===l(a.value)&&"undefined"===l(a.arguments)&&(a.arguments=[])}else throw Error("Cannot create property from empty object.");}function ra(a,b,c,d){var e=b.obj;X(b,a,null,c,d);y(e,function(b,e){var p=d[e]?d[e]:{};g(p.classId)||(p.classId=c);g(p.value)||(p.value=b);g(void 0)&&(p.declarations=void 0);
G(p,a,e);g(d[e])||(d[e]=p);d[e].classId===c?d[e].value=b:D(d,e,c)&&(d[e].value=b)});return d}function D(a,b,c){if("object"===!l(a))throw Error("Wrong class properties object.");if(g(a[b])&&(_isType(a[b],"final")||_isType(a[b],"const")||_isType(a[b],"static")))throw Error("Cannot override '"+b+"'.");return!0}function sa(a,b,c,d){if("undefined"===l(c)||"null"===l(c))throw Error("Cannot add property from empty object.");"undefined"===l(c.classId)&&(c.classId=d);d=q[d].classFacade.getClassName();D(a,
b,c.classId)&&(G(c,d,b),a[b]=c)}function ta(a,b,c,d){g(d)||(d=new I);if("function"===l(b.source))ra(a,b,c,d);else if("object"===l(b.source))throw Error("creating classes from objects is not yet implemented");return d}function E(a,b){return 0<=a.declarations.indexOf(b)}function Z(a,b,c,d){this.getClassId=aa.bind(this,a);this.getCurrentClassName=ba.bind(this,b);this.getClassName=ca.bind(this,a);this.childOf=c?c:[];this.mixedWith=d?d:[]}function ua(a){var b=this.getClassId(),c=this.getCurrentClassName(),
d=q[b],e=d.classProperties,h=d.classData;if(!e.propertyExists(a))throw Error("'"+a+"' doesn't exists");if(-1===e[a].declarations.indexOf("public"))throw Error("'"+a+"' is not public property and cannot be added to instance.");g(this[a])||Object.defineProperty(this,a,{enumerable:!0,get:function(){return h.get(b,a)},set:function(e){return h.set(b,c,a,e)}})}function I(){}function aa(a){return a}function ba(a){return a}function ca(a){a=q[a];a=a.classFacade;for(var b=a.child;""!==b;)a=q[b],a=a.classFacade,
b=a.child;return a.getCurrentClassName()}function C(a,b){this.getClassId=aa.bind(this,a);this.getCurrentClassName=ba.bind(this,b);this.getClassName=ca.bind(this,a);this.mixedWith=[];this.parent=this.child=""}function va(a,b,c,d,e){g(d)||(d=this.getClassId());var h=this.getCurrentClassName();e=q[d];var r=e.classData;g(c)||(c=!1);!0===c&&sa(e.classProperties,a,b,d);da(d,h,b.value,a);g(this[a])?b.value!==e.classProperties[a].value&&D(e.classProperties,a,d)&&(this[a]=b.value):Object.defineProperty(this,
a,{enumerable:!0,get:function(){return r.get(d,a)},set:function(b){return r.set(d,h,a,b)}})}function wa(a,b){var c=this.getClassId(),d=q[c].classInstance;this.___addProperty(a,b,!0,c);-1!==b.declarations.indexOf("public")&&d.___addPublicProperty(a)}function xa(a){var b=this;y(a,function(a,d){b.addToInstance(d,a)})}function ya(a){var b=this.getClassId(),c=this.getClassName(),b=q[b].classProperties;if(g(b[a]))return b[a];throw Error("Property '"+a+"' doesn't exists in [ "+c+" ] class.");}function za(){var a=
this.getClassId();this.getClassName();return q[a].classProperties}function B(a){this.classFacades={};this.classProperties=a}function Aa(a){var b=[];y(a,function(a){b.push(q[a].classFacade.getCurrentClassName())});return b}function L(a,b,c,d){var e=a.getClassName();if(0<=b.indexOf("anytype")||0<=b.indexOf(e))return!0;valueClassId=a.getClassId();valueObj=q[valueClassId];valueFacade=valueObj.classFacade;valueInherits=valueFacade.inherits;valueClassNames=Aa(valueInherits);for(key in b)if(0<=valueClassNames.indexOf(b[key]))return!0;
ea(c,d,e,b)}function ea(a,b,c,d){throw Error("Value of [ "+b+" ] in [ "+a+" ] class does not match declaration.\nExpected: '"+d+"' given: '"+c+"'.");}function da(a,b,c,d){a=q[a].classProperties[d].types;var e=l(c);if(0<=a.indexOf(e)||0<=a.indexOf("anytype"))return!0;if("clsClassInstance"===e)return L(c,a,b,d);if(0<=a.indexOf(e))return!0;ea(b,d,e,a)}function M(a,b){Array.isArray(b)||(b=Array.prototype.slice.call(b));var c=fa(a),d=c.getClassId(),e=q[d],h=c.getCurrentClassName(),r;g(c[h])&&e.classProperties[h].classId===
d?r=c[h].apply(c,b):""!==c.parent&&(d=c.parent,e=q[d],a=e.classInstance,r=M(a,b));return r}function ga(a){var b=l(a),b=b.toLowerCase();if("function"===b)return"cls.function:/*\ncompressed function*/\n"+a.toString();if("object"===b||"array"===b){a=F(a);var c;"object"===b&&(c={});"array"===b&&(c=[]);y(a,function(a,b){c[b]=ga(a)});return c}return a}function ha(a){var b=l(a),b=b.toLowerCase();if("string"===b&&"cls.function:"===a.substr(0,13))return a=a.substr(13),eval("("+a+")");if("object"===b||"array"===
b){var c;"object"===b&&(c={});"array"===b&&(c=[]);y(a,function(a,b){c[b]=ha(a)});return c}return a}function J(a){var b;if("class"===this.___type){b={__compressedClass:{}};var c=b.__compressedClass;c.name=this.___className;c.type=this.___type;var d=this.___source.toString(),d=/^function\s[^\{]+\{(?:\s+)?return\s?([^$]+)\s?\}$/gi.exec(d),d=d[1];c.data=d}"extend"===this.___type&&(b={__compressedClass:{}},c=b.__compressedClass,c.name=this.___className,c.type=this.___type,d=this.___secondClass,c.data=
{firstClass:J.call(this.___firstClass,!0),secondClass:J.call(d,!0)});g(a)||(b=JSON.stringify(b),this.compressed=b=N.compress(b));return b}function O(a){var b;"class"===a.type&&(b=ia(a.name,new Function("return "+a.data),!0));"extend"===a.type&&(b=O(a.data.firstClass.__compressedClass),a=O(a.data.secondClass.__compressedClass),b=t.extend(b,a));return b}function w(a,b,c){Object.defineProperty(a,b,{enumerable:!1,get:function(){return c}})}function ja(a,b,c){var d=c;Object.defineProperty(a,b,{enumerable:!1,
get:function(){return d},set:function(a){d=a}})}function ia(a,b,c){var d="",e=d="",h={},e={},d=Object.keys(P);if(!g(a)&&!g(b))throw Error("There is no source for class creation.");if(c){if(-1!==d.indexOf(a))return P[a]}else if(-1!==d.indexOf(a))throw Error("Class [ "+a+" ] is already defined.");d=l(a);if(("function"===d||"classConstructor"===d)&&g(a.isConstructor))return a;if("string"!==d)throw Error("class name should be a string");d=l(b);e=b.toString();h=b();e={className:a,source:b,str:e,obj:h};
if("function"!==d&&"object"!==d)throw Error("Source for class creation must be inline function or specially prepared object.");d=function(){var c=arguments,e=t.create(a,b),c=M(e,c);return"undefined"===l(c)?e:c};w(d,"___type","class");w(d,"___source",b);w(d,"___sourceObject",e);w(d,"___className",a);w(d,"___arguments",arguments);w(d,"isConstructor",!0);w(d,"extend",ka.bind(d));ja(d,"compressed","");w(d,"compress",J.bind(d));e=X(e,a,"^\\s?\\@(method|property)[ \\t]+(?:\\{.*\\})?[ \\t]?(.*)(?:static)");
w(d,"___static",e);Y(e,d);return P[a]=d}function Ba(a,b){var c=Ca(b.getClassId()).classProperties;if(g(c[a]))c=c[a],-1===c.declarations.indexOf("public")&&Object.defineProperty(b,a,{configureable:!1,enumerable:!1,get:function(){throw Error("Property '"+a+"' is not public.");}});else throw Error("Internal error: Wrong property name.");}function Q(a,b,c,d){var e=T(),h={},r={},p={},f={},p={},A="";if("string"!==l(a))throw Error("className should be a string "+l(a)+" given.");g(b.___source)&&(b=b.___source);
"function"===l(b)&&(p=b());g(c)||(c=new I);A=b.toString();ta(a,{className:a,source:b,str:A,obj:p},e,c);g(d)||(d=new B(c));r=new C(e,a);p=pa(c,"public",e);r.extend="";r.extendingFacade="";r.parent="";r.parentName="";r.inherits=[];r.child="";f.classId=e;f.classProperties=c;f.classFacade=r;f.classData=d;f.publicProperties=p;q[e]=f;h=new Z(e,a);h.constructor.name=a;f.classInstance=h;y(c,function(a,b){Ba(b,h);a.classId===r.getClassId()&&(g(r[b])||r.___addProperty(b,a,!1))});d.addClassFacade(e,r);y(p,function(a,
b){h.___addPublicProperty(b)});return h}function Ca(a){return q[a]}function fa(a){a=a.getClassId();return q[a].classFacade}function Da(a){var b=[],c;a=a.getClassId();c=q[a];c=c.classFacade;for(a=1E3;""!==c.parent&&0<=a;){""!==c.parent&&(c=q[c.parent],c=c.classFacade);var d=c.getClassId();b.push(d);a--}return b}function R(a,b,c,d){Array.prototype.slice.call(arguments);var e={},h={},r={},p={},f={};g(c)||(c=new I,d=new B(c));p="class"===a.___type?Q(a.___className,a,c,d):R(a.___firstClass,a.___secondClass,
c,d);f=fa(p);e="class"===b.___type?Q(b.___className,b,c,d):R(b.___firstClass,b.___secondClass,c,d);r=q[e.getClassId()];h=r.classFacade;h.extend=p.getClassId();h.parent=p.getClassId();h.parentName=p.getCurrentClassName();h.inherits=Da(e);h.child="";r=h.getClassId();f.child=r;var l=e.getClassId();y(c,function(a,b){a.classId!==l&&(h.___addProperty(b,a,!1),E(a,"public")&&e.___addPublicProperty(b))});return e}function la(a){var b=a[0];y(a,function(a,d){0<d&&(b=t.extend(b,a))});return b}function ka(a,b){if("string"===
l(a)){var c=t["class"](a,b);return t.extend(this,c)}return t.extend(this,a)}var t=function(a,b,c){return t.create(a,b,c)};t.type=l;var na=Object.prototype.hasOwnProperty,ma=Object.prototype.toString;t.guid=T;t["var"]=function(a,b){var c={},d="",e="",h=0,r=0,p="",f;g(b)||(b="");e=Object.keys(a);for(r=e.length;h<r;h++)d=e[h],f=a[d],p=l(f),function(a,b,c,e,d,h){var f="",r=!0,p={};"object"===e||"function"===e?(p=t["var"](d[c],h+"."+c),Object.defineProperty(a,c,{get:function(){return p},set:function(a){var b=
l(a);if(b!==e&&"anytype"!==e)throw h=h+"."+c,h=h.substr(1),Error("Type mismatch. Object [ "+h+" ] should be an "+e+".\n'"+b+"' given.");(r=W(a,d[c],h+"."+c))&&(d[c]=p)}})):Object.defineProperty(a,c,{get:function(){return d[c]},set:function(a){f=l(a);if(f!==e&&"anytype"!==e)throw h=h+"."+c,h=h.substr(1),Error("Type mismatch. Object [ "+h+" ] should be an "+e+",");d[c]=a}})}(c,f,d,p,a,b);return c};_isType=E;Object.defineProperty(Z.prototype,"___addPublicProperty",{enumerable:!1,configureable:!1,get:function(){return ua}});
I.prototype.propertyExists=function(a){return g(this[a])};Object.defineProperty(C.prototype,"___addProperty",{enumerable:!1,configureable:!1,get:function(){return va}});Object.defineProperty(C.prototype,"addToInstance",{enumerable:!1,configureable:!1,get:function(){return wa}});Object.defineProperty(C.prototype,"mixWithObject",{enumerable:!1,configureable:!1,get:function(){return xa}});Object.defineProperty(C.prototype,"getInternalProperty",{enumerable:!1,configureable:!1,get:function(){return ya}});
Object.defineProperty(C.prototype,"getInternalProperties",{enumerable:!1,configureable:!1,get:function(){return za}});B.prototype.addClassFacade=function(a,b){this.classFacades[a]=b};B.prototype.propertyExists=function(a){return g(this.classProperties)&&g(this.classProperties[a])};B.prototype.mixedWithOrChildOfPropertyOwner=function(a,b){var c=this.classFacades[a],d=this.classProperties[b];return a===c.getClassId()||c.mixedWith.indexOf(d.classId)||c.inherits.indexOf(d.classId)?!0:!1};B.prototype.get=
function(a,b){var c=q[a].classFacade.getCurrentClassName();if(!this.propertyExists(b))throw Error("There is no property like "+b+" in "+c);var d=this.classProperties[b];if(g(d)){if(d.classId===a){if("function"===l(d.value)){var e=this.classFacades[a],h=q[a];return function(){var c=arguments;a:{var p,f,A="",t=0,n=[];if(g(h.classProperties[b]))if(g(h.classProperties[b].arguments)){p=h.classProperties[b].arguments;if(0===p.length){c=Array.prototype.slice.call(c);break a}for(t in p)f=p[t],Object.prototype.hasOwnProperty.call(p,
t)&&(g(c[t])?n[t]=c[t]:g(f["default"])?n[t]=f["default"]:f.types.indexOf("undefined")?n[t]=void 0:V(h.classInstance.getCurrentClassName(),b,f.name,f.types,"undefined"),A=l(n[t]),"clsClassInstance"===A?(A=h.classFacade.getClassName(),L(n[t],f.types,A,f.name)):-1===f.types.indexOf(A)&&"anytype"!==f.types[0]&&V(h.classInstance.getCurrentClassName(),b,f.name,f.types,A))}else{c=Array.prototype.slice(c);break a}else throw Error("There is no such method like ",b);c=n}c=d.value.apply(e,c);f=c;n=q[a];t=n.classProperties;
p=l(f);n=n.classFacade.getClassName();"clsClassInstance"===p&&(p=f.getClassName());if(!g(t[b]))throw Error("There is no method called '"+b+"' in [ "+n+" ] class.");f=t[b].returns;if(!(0<=f.indexOf("anytype"))&&-1===f.indexOf(p))throw Error("Type mismatch. Method [ "+b+" ] from [ "+n+" ] class, should return '"+f.join(",")+"', not '"+p+"'.");return c}}return d.value}if(E(d,"public")||g(a)&&E(d,"protected")&&this.mixedWithOrChildOfPropertyOwner(a,b))return q[d.classId].classFacade.getCurrentClassName(),
this.get(d.classId,b);if(g(a)&&E(d,"private"))throw Error("Cannot access private properties of other classes.");throw Error("Cannot access '"+b+"' from outside a class.");}};B.prototype.set=function(a,b,c,d){var e=q[a],h=e.classProperties[c].classId,r=e.classFacade,p=e.classProperties[c];if("function"===l(p.value)){if(_isType(p,"final"))throw Error("Method '"+c+"' is declared as final and cannot be changed.");}else if(_isType(p,"const"))throw Error("Property '"+c+"' is declared as const and cannot be changed.");
da(a,b,d,c);if(a===h)e.classProperties[c].value=d;else if(-1!==r.inherits.indexOf(h))e.classProperties[c].value=d;else throw Error("Cannot change property '"+c+"' only child classes can redefine properties.");};var P={},q={};t.compress=function(a){if(g(a.isConstructor))return a.compress();a=ga(a);a=JSON.stringify(a);return N.compress(a)};t.decompress=function(a){a=N.decompress(a);a=JSON.parse(a);return g(a.__compressedClass)?O(a.__compressedClass):ha(a)};t["class"]=function(a,b){return ia(a,b,!1)};
t.create=function(a,b){return Q(a,b)};t.extend=function(a,b){if("array"===l(a))return la(a);var c=Array.prototype.slice.call(arguments);if(2<c.length)return la(c);c=function(){var c=arguments,d=R(a,b),c=M(d,c);return"undefined"===l(c)?d:c};w(c,"___firstClass",a);w(c,"___secondClass",b);w(c,"___arguments",arguments);w(c,"___type","extend");w(c,"___className",b.___className);w(c,"isConstructor",!0);w(c,"extend",ka.bind(c));ja(c,"compressed","");w(c,"compress",J.bind(c));var d=S(a.___static,b.___static);
w(c,"___static",d);Y(d,c);return c};t.empty=function(a){return t["class"](a,function(){return{}})};t._getAllFacades=function(){var a={};y(q,function(b,c){a[b.classFacade.getCurrentClassName()+"_"+c]=b.classFacade});return a};t.logParents=function(a){var b=a.getClassId();a.getCurrentName();a=q[b].classFacade.parent;""!==a&&t.logParents(q[a].classInstance)};t.childOf=function(a){a.getClassId()};t.logProperties=function(){y(q,function(a,b){y(a.classProperties,function(a,b){})})};var N=function(){function a(a,
b){if(!c[a]){c[a]={};for(var d=0;d<a.length;d++)c[a][a.charAt(d)]=d}return c[a][b]}var b=String.fromCharCode,c={},d={compressToBase64:function(a){if(null==a)return"";a=d._compress(a,6,function(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(b){return null==b?"":""==b?null:d._decompress(b.length,32,function(c){return a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
b.charAt(c))})},compressToUTF16:function(a){return null==a?"":d._compress(a,15,function(a){return b(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:d._decompress(a.length,16384,function(b){return a.charCodeAt(b)-32})},compressToUint8Array:function(a){a=d.compress(a);for(var b=new Uint8Array(2*a.length),c=0,p=a.length;c<p;c++){var f=a.charCodeAt(c);b[2*c]=f>>>8;b[2*c+1]=f%256}return b},decompressFromUint8Array:function(a){if(null===a||void 0===a)return d.decompress(a);for(var c=
Array(a.length/2),r=0,p=c.length;r<p;r++)c[r]=256*a[2*r]+a[2*r+1];var f=[];c.forEach(function(a){f.push(b(a))});return d.decompress(f.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":d._compress(a,6,function(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(a)})},decompressFromEncodedURIComponent:function(b){if(null==b)return"";if(""==b)return null;b=b.replace(/ /g,"+");return d._decompress(b.length,32,function(c){return a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",
b.charAt(c))})},compress:function(a){return d._compress(a,16,function(a){return b(a)})},_compress:function(a,b,c){if(null==a)return"";var d,f,g={},l={},n="",t="",q="",z=2,w=3,u=2,v=[],m=0,k=0,x;for(x=0;x<a.length;x+=1)if(n=a.charAt(x),Object.prototype.hasOwnProperty.call(g,n)||(g[n]=w++,l[n]=!0),t=q+n,Object.prototype.hasOwnProperty.call(g,t))q=t;else{if(Object.prototype.hasOwnProperty.call(l,q)){if(256>q.charCodeAt(0)){for(d=0;d<u;d++)m<<=1,k==b-1?(k=0,v.push(c(m)),m=0):k++;f=q.charCodeAt(0);for(d=
0;8>d;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1}else{f=1;for(d=0;d<u;d++)m=m<<1|f,k==b-1?(k=0,v.push(c(m)),m=0):k++,f=0;f=q.charCodeAt(0);for(d=0;16>d;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1}z--;0==z&&(z=Math.pow(2,u),u++);delete l[q]}else for(f=g[q],d=0;d<u;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1;z--;0==z&&(z=Math.pow(2,u),u++);g[t]=w++;q=String(n)}if(""!==q){if(Object.prototype.hasOwnProperty.call(l,q)){if(256>q.charCodeAt(0)){for(d=0;d<u;d++)m<<=1,k==
b-1?(k=0,v.push(c(m)),m=0):k++;f=q.charCodeAt(0);for(d=0;8>d;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1}else{f=1;for(d=0;d<u;d++)m=m<<1|f,k==b-1?(k=0,v.push(c(m)),m=0):k++,f=0;f=q.charCodeAt(0);for(d=0;16>d;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1}z--;0==z&&(z=Math.pow(2,u),u++);delete l[q]}else for(f=g[q],d=0;d<u;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1;z--;0==z&&(Math.pow(2,u),u++)}f=2;for(d=0;d<u;d++)m=m<<1|f&1,k==b-1?(k=0,v.push(c(m)),m=0):k++,f>>=1;for(;;)if(m<<=
1,k==b-1){v.push(c(m));break}else k++;return v.join("")},decompress:function(a){return null==a?"":""==a?null:d._decompress(a.length,32768,function(b){return a.charCodeAt(b)})},_decompress:function(a,c,d){var g=[],f=4,l=4,q=3,n="",t=[],w,z,y,u,v,m=d(0),k=c,x=1;for(w=0;3>w;w+=1)g[w]=w;n=0;y=Math.pow(2,2);for(u=1;u!=y;)z=m&k,k>>=1,0==k&&(k=c,m=d(x++)),n|=(0<z?1:0)*u,u<<=1;switch(n){case 0:n=0;y=Math.pow(2,8);for(u=1;u!=y;)z=m&k,k>>=1,0==k&&(k=c,m=d(x++)),n|=(0<z?1:0)*u,u<<=1;v=b(n);break;case 1:n=0;
y=Math.pow(2,16);for(u=1;u!=y;)z=m&k,k>>=1,0==k&&(k=c,m=d(x++)),n|=(0<z?1:0)*u,u<<=1;v=b(n);break;case 2:return""}w=g[3]=v;for(t.push(v);;){if(x>a)return"";n=0;y=Math.pow(2,q);for(u=1;u!=y;)z=m&k,k>>=1,0==k&&(k=c,m=d(x++)),n|=(0<z?1:0)*u,u<<=1;switch(v=n){case 0:n=0;y=Math.pow(2,8);for(u=1;u!=y;)z=m&k,k>>=1,0==k&&(k=c,m=d(x++)),n|=(0<z?1:0)*u,u<<=1;g[l++]=b(n);v=l-1;f--;break;case 1:n=0;y=Math.pow(2,16);for(u=1;u!=y;)z=m&k,k>>=1,0==k&&(k=c,m=d(x++)),n|=(0<z?1:0)*u,u<<=1;g[l++]=b(n);v=l-1;f--;break;
case 2:return t.join("")}0==f&&(f=Math.pow(2,q),q++);if(g[v])n=g[v];else if(v===l)n=w+w.charAt(0);else return null;t.push(n);g[l++]=w+n.charAt(0);f--;w=n;0==f&&(f=Math.pow(2,q),q++)}}};return d}();return t}();"undefined"!==typeof module&&(module.exports=cls);
